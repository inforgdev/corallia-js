import{writeFileSync as a}from"fs";var e={scss:{extname:"scss",grammar:{var:{def:"$__NAME: __VALUE;",usage:"$__NAME",nameCase:"-"}}},less:{extname:"less",grammar:{var:{def:"@__NAME: __VALUE;",usage:"@__NAME",nameCase:"-"}}},styl:{extname:"styl",grammar:{var:{def:"__NAME = __VALUE;",usage:"__NAME",nameCase:"-"}}}};var r={dist:function(a){return a.basedir.endsWith("/")||(a.basedir=a.basedir+"/"),a.basedir+a.filename+"."+a.extname}},n={name:"__NAME",value:"__VALUE",pointer:"$"};function s(a,e){var r=e,s=r.grammar,t="";function i(a,e){var r=a.name,s=a.value;if(s.startsWith(n.pointer)){var t=s.substring(1,s.length);s=e.var.usage.replaceAll(n.name,t)}return e.var.def.replaceAll(n.name,r).replaceAll(n.value,s)}return function a(e,n,s){for(var m in n){var l=n[m],_=null==s?m:s+e.var.nameCase+m;if(l instanceof Object)a(e,l,_);else{var u=i({name:_,value:l},e);r.minify||(u+="\n"),t+=u}}return t}(s,a),t}function t(e){var n=s(e.in.data,e.proc),t=r.dist(e.out);a(t,n)}export{s as compile,t as compileFile,e as langs,r as utils};
